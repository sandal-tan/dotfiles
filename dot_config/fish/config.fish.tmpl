# vi: ft=fish

# Install fundle if it's not installed
if not functions -q fundle; eval (curl -sfL https://git.io/fundle-install); end

# Plugins
fundle plugin 'edc/bass'
fundle plugin 'tuvistavie/oh-my-fish-core'
fundle plugin 'fishpkg/fish-pwd-info'
fundle plugin 'fishpkg/fish-pwd-is-home'
fundle plugin 'jorgebucaran/fish-nvm'
fundle plugin 'fishpkg/fish-git-util'

fundle init

# Install fundle the first time
if not test -e ~/.config/fish/fundle; fundle install; end

# Load environment variables
bass source $HOME/.environment

# Load abberviations
source $HOME/.config/fish/abbr.fish

function fish_greeting
    archey
    fortune
end

function activate_ondir --on-variable PWD -d "Run ondir on a change to PWD"
        if test ! -e "$OLDONDIRWD"; set -g OLDONDIRWD /; end;
        eval (ondir $OLDONDIRWD $PWD)
        set -g OLDONDIRWD "$PWD";
end


pyenv init - | source
